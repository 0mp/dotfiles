# Copy-paste integration
set-option -g default-command "reattach-to-user-namespace -l bash"

# Yank to copy text with y.
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` to also use copy-pipe
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# Toggle rectangular copy mode.
bind-key -t vi-copy 'C-v' rectangle-toggle

# Bind ']' to use pbpaste
bind ] run "reattach-to-user-namespace pbpaste | tmux load-buffer - && tmux paste-buffer"

# Default colours.
set -g status-fg white
set -g status-bg black

set -g pane-border-fg white
set -g pane-border-bg black
set -g pane-active-border-fg black
set -g pane-active-border-bg white

set-window-option -g window-status-fg white
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim

set-window-option -g window-status-current-fg yellow
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

# Light colours.
# http://www.calmar.ws/vim/256-xterm-24bit-rgb-color-chart.html
if-shell '[ "$ITERM_PROFILE" = "Shine" ]' "\
    set-option -g status-bg brightwhite; \
    set-option -g status-fg black; \
    set-window-option -g window-status-current-fg colour16; \
    set-window-option -g window-status-current-bg brightwhite; \
    set-window-option -g window-status-current-attr bold; \
    set-window-option -g window-status-fg black; \
    set-window-option -g window-status-bg brightwhite; \
    set-window-option -g window-status-attr dim; \
    set -g pane-border-fg white; \
    set -g pane-border-bg brightwhite; \
    set -g pane-active-border-fg black; \
    set -g pane-active-border-bg brightwhite; \
    set -g message-bg black; \
    set -g message-fg brightwhite; \
    set -g mode-fg black; \
    set -g mode-bg white; \
    set -g status-justify centre; \
    set -g status-right '#[bg=default]#[fg=black]%d-%m %H:%M'; \
    "
